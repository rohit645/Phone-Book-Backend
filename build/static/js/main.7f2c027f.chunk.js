(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,t,n){e.exports=n(38)},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(14),u=n.n(r),c=n(4),l=n(3),m=n(2),i=n.n(m),s="http://localhost:3001/persons",f=function(){var e={name:"anything",number:"92383754",id:45};return console.log("Just sending the get request to server"),i.a.get(s).then((function(t){return t.data.concat(e)}))},b=function(e){return console.log("just sending the post request to server"),i.a.post(s,e)},d=function(e){return console.log("just sending the delete request to server"),i.a.delete("".concat(s,"/").concat(e))},h=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],u=Object(a.useState)(""),m=Object(l.a)(u,2),i=m[0],s=m[1];Object(a.useEffect)((function(){console.log("about to make fetch all requests"),f().then((function(e){r(n.concat(e))}))}),[]);var h=Object(a.useState)({id:1,name:"",number:""}),g=Object(l.a)(h,2),v=g[0],p=g[1];return console.log(n),o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),0!==v.name.length&&0!==v.number.length){var t={name:v.name,number:v.number,id:Math.floor(Math.random()+n.length+1)};!function(e,t){var n=!1;return t.forEach((function(t){e.name.toLowerCase()!==t.name.toLowerCase()&&e.number!==t.number||(n=!0)})),n}(t,n)?b(t).then((function(e){r(n.concat(e.data)),s("".concat(t.name," added")),setTimeout((function(){s("")}),2e3)})):(s("Person with same name or number exists!"),setTimeout((function(){s("")}),2e3)),p(Object(c.a)({},v,{name:"",number:""}))}else alert("Number or name field cannot be empty!");document.getElementById("first").focus()}},"Name: ",o.a.createElement("input",{id:"first",value:v.name,onChange:function(e){console.log(e.target.value);var t=Object(c.a)({},v,{name:e.target.value});p(t)}}),"Number: ",o.a.createElement("input",{value:v.number,onChange:function(e){console.log(e.target.value);var t=Object(c.a)({},v,{number:e.target.value});p(t)}}),o.a.createElement("button",{type:"submit"},"add")),o.a.createElement("div",{class:"error"},i),o.a.createElement("h2",null,"Numbers"),o.a.createElement("div",null,o.a.createElement("ul",null,o.a.createElement("div",null,n.map((function(e){return o.a.createElement("li",null,e.name," \t\t",e.number," ",o.a.createElement("button",{onClick:function(){return function(e){var t=n.find((function(t){return t.id===e}));window.confirm("are you sure want to delete ".concat(t.name,"??"))&&(console.log(e),d(e).then(r(n.filter((function(t){return t.id!==e})))).catch((function(e){s("person not found")})),document.getElementById("first").focus())}(e.id)}},"Delete"))}))))))};n(37);u.a.render(o.a.createElement(h,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.7f2c027f.chunk.js.map