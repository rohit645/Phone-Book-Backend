(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),r=t(14),u=t.n(r),c=t(4),l=t(3),m=t(2),s=t.n(m),i=function(){var e={name:"anything",number:"92383754",id:45};return console.log("Just sending the get request to server"),s.a.get("/persons/").then((function(n){return n.data.concat(e)}))},f=function(e){return console.log("just sending the post request to server"),s.a.post("/persons/",e)},b=function(e){return console.log("just sending the delete request to server"),s.a.delete("".concat("/persons/","/").concat(e))},d=function(){var e=Object(o.useState)([]),n=Object(l.a)(e,2),t=n[0],r=n[1],u=Object(o.useState)(""),m=Object(l.a)(u,2),s=m[0],d=m[1];Object(o.useEffect)((function(){console.log("about to make fetch all requests"),i().then((function(e){r(t.concat(e))}))}),[]);var h=Object(o.useState)({id:1,name:"",number:""}),g=Object(l.a)(h,2),v=g[0],p=g[1];return console.log(t),a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),0!==v.name.length&&0!==v.number.length){var n={name:v.name,number:v.number,id:Math.floor(Math.random()+t.length+1)};!function(e,n){var t=!1;return n.forEach((function(n){e.name.toLowerCase()!==n.name.toLowerCase()&&e.number!==n.number||(t=!0)})),t}(n,t)?f(n).then((function(e){r(t.concat(e.data)),d("".concat(n.name," added")),setTimeout((function(){d("")}),2e3)})):(d("Person with same name or number exists!"),setTimeout((function(){d("")}),2e3)),p(Object(c.a)({},v,{name:"",number:""}))}else alert("Number or name field cannot be empty!");document.getElementById("first").focus()}},"Name: ",a.a.createElement("input",{id:"first",value:v.name,onChange:function(e){console.log(e.target.value);var n=Object(c.a)({},v,{name:e.target.value});p(n)}}),"Number: ",a.a.createElement("input",{value:v.number,onChange:function(e){console.log(e.target.value);var n=Object(c.a)({},v,{number:e.target.value});p(n)}}),a.a.createElement("button",{type:"submit"},"add")),a.a.createElement("div",{class:"error"},s),a.a.createElement("h2",null,"Numbers"),a.a.createElement("div",null,a.a.createElement("ul",null,a.a.createElement("div",null,t.map((function(e){return a.a.createElement("li",null,e.name," \t\t",e.number," ",a.a.createElement("button",{onClick:function(){return function(e){var n=t.find((function(n){return n.id===e}));window.confirm("are you sure want to delete ".concat(n.name,"??"))&&(console.log(e),b(e).then(r(t.filter((function(n){return n.id!==e})))).catch((function(e){d("person not found")})),document.getElementById("first").focus())}(e.id)}},"Delete"))}))))))};t(37);u.a.render(a.a.createElement(d,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.ed77a64b.chunk.js.map